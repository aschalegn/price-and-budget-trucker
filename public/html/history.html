<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="./css/history.css">
    <title>History</title>
</head>

<body>
    <header>
        <header>
            <nav>
                <li> <a href="index.html"> <i class="fas fa-home"></i> דף בית</a></li>
                <li> <a href="html/history.html"> <i class="fas fa-history"></i> היסטוריה</a></li>
            </nav>
        </header>
    </header>
    <main>
        <h1 class="pageTitle">Your Acts History</h1>
        <article class="history">
            <section class="outcome">
                <h2>Outcome History</h2>
                <table class="outhistoryContainer">
                    <thead>
                        <tr>
                            <th>Route</th>
                            <th>Method</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </section>
            <section class="income">
                <h2>Income History</h2>
                <table class="inhistoryContainer">
                    <thead>
                        <tr>
                            <th>Route</th>
                            <th>Method</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </section>
        </article>
    </main>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        let outhistoryContainer = document.querySelector('.outhistoryContainer tbody');
        outhistoryContainer.innerHTML = ''
        let inhistoryContainer = document.querySelector('.inhistoryContainer tbody');
        inhistoryContainer.innerHTML = ''
        axios.get('/history')
            .then(response => {
                // console.log(response.data.outcome);
                response.data.outcome.forEach(outcome => {
                    outhistoryContainer.innerHTML +=
                        `<tr> 
                            <td> ${outcome.route} </td> <td> ${outcome.method} </td> <td> ${outcome.time} </td>
                        </tr>`
                });
                response.data.income.forEach(income => {
                    inhistoryContainer.innerHTML +=
                        `<tr> 
                            <td> ${income.route} </td> <td> ${income.method} </td> <td> ${income.time} </td>
                        </tr>`
                });
            })
    </script>
</body>

</html>